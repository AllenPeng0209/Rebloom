# Production Environment Variables for Rebloom
# IMPORTANT: Never commit real production secrets to version control
# Use your deployment platform's secret management system

# Application Settings
NODE_ENV=production
PORT=3000
API_VERSION=v1
APP_NAME=Rebloom
APP_VERSION=1.0.0

# Database Configuration
DATABASE_URL=${DATABASE_URL}
DATABASE_SSL=true
DATABASE_CONNECTION_LIMIT=20
DATABASE_IDLE_TIMEOUT=30000

# Supabase Configuration
SUPABASE_URL=${SUPABASE_URL}
SUPABASE_ANON_KEY=${SUPABASE_ANON_KEY}
SUPABASE_SERVICE_ROLE_KEY=${SUPABASE_SERVICE_ROLE_KEY}

# Security & Encryption
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=7d
ENCRYPTION_KEY=${ENCRYPTION_KEY}
HASH_SALT_ROUNDS=12

# Redis Configuration
REDIS_URL=${REDIS_URL}
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_CONNECTION_TIMEOUT=5000
REDIS_RETRY_ATTEMPTS=3

# AI Service Configuration
OPENAI_API_KEY=${OPENAI_API_KEY}
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Mental Health & Crisis Configuration
CRISIS_WEBHOOK_URL=${CRISIS_WEBHOOK_URL}
CRISIS_HOTLINE_US=988
CRISIS_HOTLINE_INTERNATIONAL=+1-741-741-741
EMERGENCY_NOTIFICATION_EMAIL=${EMERGENCY_NOTIFICATION_EMAIL}

# Monitoring & Logging
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs/application.log

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Session Configuration
SESSION_SECRET=${SESSION_SECRET}
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
SESSION_MAX_AGE=86400000

# CORS Configuration
CORS_ORIGIN=https://rebloom.app,https://www.rebloom.app
CORS_CREDENTIALS=true

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES=audio/mpeg,audio/wav,audio/webm,image/jpeg,image/png

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/app/backups

# Analytics & Metrics
ANALYTICS_ENABLED=true
METRICS_COLLECTION_INTERVAL=60000
PERFORMANCE_MONITORING_ENABLED=true

# Feature Flags
FEATURE_VOICE_MESSAGES=true
FEATURE_CRISIS_DETECTION=true
FEATURE_BIOMETRIC_AUTH=true
FEATURE_OFFLINE_MODE=true
FEATURE_ANALYTICS=true

# HIPAA Compliance
HIPAA_LOGGING_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2557
DATA_RETENTION_DAYS=365
ENCRYPTION_AT_REST=true
ENCRYPTION_IN_TRANSIT=true

# Notification Configuration
NOTIFICATION_SERVICE_URL=${NOTIFICATION_SERVICE_URL}
PUSH_NOTIFICATION_KEY=${PUSH_NOTIFICATION_KEY}
EMAIL_SERVICE_API_KEY=${EMAIL_SERVICE_API_KEY}
SMS_SERVICE_API_KEY=${SMS_SERVICE_API_KEY}

# Third-party Integrations
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
TWILIO_ACCOUNT_SID=${TWILIO_ACCOUNT_SID}
TWILIO_AUTH_TOKEN=${TWILIO_AUTH_TOKEN}
SENDGRID_API_KEY=${SENDGRID_API_KEY}

# Docker & Container Configuration
CONTAINER_MEMORY_LIMIT=1024m
CONTAINER_CPU_LIMIT=1
GRACEFUL_SHUTDOWN_TIMEOUT=30000

# Load Balancing
LOAD_BALANCER_HEALTH_CHECK=/health
LOAD_BALANCER_TIMEOUT=30
UPSTREAM_KEEPALIVE_TIMEOUT=60

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/nginx/ssl/rebloom.app.crt
SSL_KEY_PATH=/etc/nginx/ssl/rebloom.app.key
SSL_PROTOCOLS=TLSv1.2,TLSv1.3
HSTS_MAX_AGE=31536000